### 思想

#### 概念

- 一般形式：求最值
- 核心问题：穷举
- 构造
  - 明确 base case -> 明确「状态」-> 明确「选择」 -> 定义 dp 数组/函数的含义。

``` c++
# 初始化 base case
dp[0][0][...] = base
# 进行状态转移
for 状态1 in 状态1的所有取值：
    for 状态2 in 状态2的所有取值：
        for ...
            dp[状态1][状态2][...] = 求最值(选择1，选择2...)
```



**一、斐波那契数列**

1. **暴力递归**

   ``` c++
   int fib(int N) {
       if (N == 1 || N == 2) return 1;
       return fib(N - 1) + fib(N - 2);
   }
   ```

   - **递归算法的时间复杂度？** **用子问题个数乘以解决一个子问题需要的时间。**

   首先计算子问题个数，即递归树中节点的总数。显然二叉树节点总数为指数级别，所以子问题个数为 O(2^n)。

   然后计算解决一个子问题的时间，在本算法中，没有循环，只有 `f(n - 1) + f(n - 2)` 一个加法操作，时间为 O(1)。

   所以，这个算法的时间复杂度为二者相乘，即 O(2^n)，指数级别，爆炸。

   - 存在**【重叠子问题】**

2. **带备忘录的递归解法**

   解决重复计算问题，若已经计算过，记录在【备忘录】中。

   遇到子问题先查备忘录

   ``` c++
   int fib(int N){
   	if(N < 1) return 0;
       //全初始化为0
   	vector<int> memo(N + 1, 0)
       return helper(memo, N);
   }
   
   int helper(vector<int> &memo, int n){
       //base case
       if(n == 1 ||n == 2) return 1;
       //已经计算过
       if(memo[n] != 0) return memo[n];
       memo[n] = helper(memo, n - 1) +hlelper(memo, n - 2);
       return memo[n];
   }
   ```

   由于本算法不存在冗余计算，子问题就是 `f(1)`, `f(2)`, `f(3)` ... `f(20)`，数量和输入规模 n = 20 成正比，所以子问题个数为 O(n)。

   解决一个子问题的时间，同上，没有什么循环，时间为 O(1)。

   所以，本算法的时间复杂度是 O(n)。比起暴力算法，是降维打击。

   

3. **dp数组的迭代解法** 

   将上面的【备忘录】独立出来成为一张表，【自底向上】推算。

   ``` c++
   int fib(int N){
   	if (N == 0) return 0;
       if (N == 1) return 1;
       vector<int> dp(N+1, 0);
       //base case
       dp[1] = dp[2] = 1;
       for (int i = 3; i < N; i++)
           dp[i] = dp[i - 1] + dp[i - 2];
       return dp[N];   
   }	
   ```

   - **【状态压缩】**进一步优化 降低空间复杂度

     ```c++
     int fib(int n) {
         if (n == 2 || n == 1) 
             return 1;
         int prev = 1, curr = 1;
         for (int i = 3; i <= n; i++) {
             int sum = prev + curr;
             prev = curr;
             curr = sum;
         }
         return curr;
     }
     ```





#### 516. 最长回文子序列

给定一个字符串 `s` ，找到其中最长的回文子序列，并返回该序列的长度。可以假设 `s` 的最大长度为 `1000` 。

![image-20210425211648823](C:\Users\ninan\Desktop\面试\leetcode\wyx_programming\pics\image-20210425211648823.png)



